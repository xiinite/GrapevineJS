<% layout("../layout.ejs") %>
<script type="text/javascript" charset="utf-8" src="/js/modules/cymeriad.confirmClick.js"></script>
<script type="text/javascript" charset="utf-8" src="/js/modules/cymeriad.services.js"></script>
<script type="text/javascript" charset="utf-8" src="/js/applications/cymeriad.app.user.js"></script>
<script type='text/javascript' charset="utf-8" src="/js/controllers/cymeriad.controller.user.index.js"></script>
<div id="content" class="container" ng-app="cymeriad.app.user" ng-controller="cymeriad.controller.user.index" ng-init="init()">
    <h1 class="page-header hidden-xs hidden-sm">Users</h1>
    <div class="row">
        <div class="col-md-12">
            <span class="col-md-6 text-right">
                Search:
            </span>
            <span class="col-md-6">
                <input class=" form-control" type="text" ng-model="query" ng-change="search()"/>
            </span>
            <table class="table table-striped table-condensed table-hover">
                <thead>
                <tr>
                    <th class="name" custom-sort order="'name'" sort="sort">Name&nbsp;</th>
                    <th class="provider" custom-sort order="'provider'" sort="sort">provider&nbsp;</th>
                </tr>
                </thead>
                <tfoot>
                <td>
                    <nav class="col-md-6">
                        <ul class="pagination">
                            <li ng-class="{disabled: currentPage == 0}">
                                <a href ng-click="prevPage()" aria-label="Previous">
                                    <span aria-hidden="true">&laquo;</span>
                                </a>
                            </li>
                            <li ng-repeat="n in range(pagedItems.length, currentPage, currentPage + gap) "
                                ng-class="{active: n == currentPage}"
                                ng-click="setPage()">
                                <a href ng-bind="n + 1">1</a>
                            </li>
                            <li ng-class="{disabled: (currentPage) == pagedItems.length - 1}">
                                <a href ng-click="nextPage()">
                                    <span aria-hidden="true">&raquo;</span>
                                </a>
                            </li>
                        </ul>
                    </nav>
                </td>
                </tfoot>
                <tbody>
                <tr ng-repeat="item in pagedItems[currentPage] | orderBy:sort.sortingOrder:sort.reverse">
                    <td class="clickable" ng-click="openItem(item.googleId)">{{item.displayName}}</td>
                    <td class="clickable" ng-click="openItem(item.googleId)">{{item.provider}}</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>