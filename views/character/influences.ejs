<%- layout("../layout.ejs") %>
<%- partial('./scripts') %>
<script type="text/javascript" src="/js/controllers/cymeriad.controller.character.influences.js"></script>
<div class="container" ng-app="cymeriad.app.character" ng-controller="cymeriad.controller.character.influences" ng-init="init()">
    <div class="col-lg-12">
        <div class="panel panel-default" ng-repeat="c in chronicles">
            <div class="panel panel-heading">
                <h3>Chronicle: {{c.name}}</h3>
            </div>
            <div class="panel panel-body">
                <div ng-show="c.influences.length === 0">
                    No influences
                </div>
                <div class="col-lg-3 col-sm-6 col-xs-12" ng-repeat="i in c.influences">
                    <table class="table table-striped table-bordered table-hover table-condensed" >
                        <tr>
                            <th colspan="2">
                                {{i.name}} <span class="pull-right">({{i.total}} / {{i.characters.length}})</span>
                            </th>
                        </tr>
                        <tr ng-repeat="c in i.characters">
                            <td>
                                {{c.char}}
                                <span ng-show="c.note">({{c.note}})</span>
                            </td>
                            <td>
                                {{c.rating}}
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>