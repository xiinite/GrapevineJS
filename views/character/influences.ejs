<%- layout("../layout.ejs") %>
<%- partial('./scripts') %>
<script type="text/javascript" src="/js/controllers/cymeriad.controller.character.influences.js"></script>
<div class="container" ng-app="cymeriad.app.character" ng-controller="cymeriad.controller.character.influences" ng-init="init()">
    <tabset>
        <tab ng-repeat="c in chronicles" heading="{{c.name}}" select="loadContent(c.id)" active="c.active" disabled="c.disabled">
            <div class="col-lg-12">
                <div ng-show="c.influences.length === 0">
                    No influences
                </div>
                <div class="col-lg-3 col-sm-6 col-xs-12" ng-repeat-start="i in c.influences">
                    <table class="table table-striped table-bordered table-hover table-condensed" >
                        <tr>
                            <th colspan="2">
                                {{i.name}} <span class="pull-right">({{i.total}} / {{i.characters.length}})</span>
                            </th>
                        </tr>
                        <tr ng-repeat="c in i.characters">
                            <td>
                                {{c.char}}
                                <span ng-show="c.note">({{c.note}})</span>
                            </td>
                            <td>
                                {{c.rating}}
                            </td>
                        </tr>
                    </table>
                </div>
                <div class="clearfix pbafter" ng-if="$index%4==3"></div>
                <div ng-repeat-end=""></div>
            </div>
        </tab>
    </tabset>
</div>